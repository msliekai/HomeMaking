<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hm.mapper.CompanyMapper">

    <!--公司登陆-->
    <select id="comlogin" resultType="com.hm.entity.Company">
        select * from tblfirm where facc=#{facc} and fpwd=#{fpwd}
    </select>
    <!--公司账号验证-->
    <select id="checkfacc" resultType="com.hm.entity.Company">
        select * from tblfibrm where facc=#{facc}
    </select>
    <!--公司注册-->
    <insert id="addCompany" parameterType="com.hm.entity.Company">
        INSERT into tblfirm
        (facc,fpwd,fname,flaw,fphone,flawphone,fsite,ftime,ctid,stid) VALUES
        (#{facc},#{fpwd},#{fname},#{flaw},
        #{fphone},#{flawphone},#{fsite},#{ftime},#{ctid},#{stid});
    </insert>
    <select id="findCreList" parameterType="com.hm.entity.Company" resultType="java.util.List">
        SELECT c.crename,count(f.creid) as count from tblcre c,tblfcc f where fid=#{fid} and c.creid=f.creid GROUP BY c.crename;
    </select>
</mapper>